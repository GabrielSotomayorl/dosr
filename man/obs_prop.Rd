% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/public_api.R
\name{obs_prop}
\alias{obs_prop}
\title{Calcula estimaciones de proporciones para diseños complejos}
\usage{
obs_prop(
  designs,
  sufijo = NULL,
  var,
  des = NULL,
  multi_des = TRUE,
  es_var_estudio = FALSE,
  usar_etiqueta_var = TRUE,
  sig = FALSE,
  filt = NULL,
  rm_na_var = TRUE,
  parallel = FALSE,
  n_cores = NULL,
  save_xlsx = TRUE,
  dir = "output",
  formato = TRUE,
  porcentaje = TRUE,
  decimales = 2,
  verbose = TRUE
)
}
\arguments{
\item{designs}{Un objeto `tbl_svy` o una lista de ellos.}

\item{sufijo}{Vector de strings para sufijos (p.ej. c("2020","2022")).}

\item{var}{Un string con el nombre de la variable de interés (numérica).}

\item{des}{Un vector de strings con los nombres de las variables de desagregación.}

\item{multi_des}{Booleano. Si `TRUE` (por defecto), calcula todas las combinaciones de `des`. Si `FALSE`, solo calcula las desagregaciones simples.}

\item{es_var_estudio}{Booleano. Si `TRUE`, aplica criterios de fiabilidad menos estrictos para el tamaño muestral. Por defecto es `FALSE`.}

\item{usar_etiqueta_var}{Booleano. Si `TRUE` (por defecto), usa la etiqueta de la variable `var` como título en los reportes de Excel. Si es `FALSE` o la variable no tiene etiqueta, usa el nombre de la variable.}

\item{sig}{Booleano. Si `TRUE`, calcula y añade pruebas de significancia estadística a las hojas de reporte con formato. Por defecto es `FALSE`.}

\item{filt}{Un string con una expresión de filtro para `dplyr::filter()`.}

\item{rm_na_var}{Booleano. Si `TRUE`, elimina NAs en `var` antes de calcular.}

\item{parallel}{Booleano. Activa el cálculo en paralelo.}

\item{n_cores}{Entero. Número de núcleos a usar. Si es NULL, se usa un valor seguro.}

\item{save_xlsx}{Booleano. Si `TRUE`, guarda un reporte en Excel.}

\item{dir}{Un string con la ruta del directorio donde se guardará el archivo Excel. Por defecto es `"output"`.}

\item{formato}{Booleano. Si `TRUE`, genera un reporte de Excel con formato avanzado.}

\item{porcentaje}{Booleano. Si `TRUE`, las estimaciones y errores estándar se multiplican por 100.}

\item{decimales}{Entero. Número de decimales para las estimaciones en Excel.}

\item{verbose}{Booleano. Si `TRUE` (por defecto), muestra mensajes de progreso.}
}
\value{
Un data.frame con los resultados consolidados (invisiblemente).
}
\description{
Procesa uno o más `tbl_svy` para calcular proporciones.
}
